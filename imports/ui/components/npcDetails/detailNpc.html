<div class="npc-details">
    <fieldset ng-disabled="npcDetails.readOnly">

        <div class="row">
            <div class="col-lg-8">
                <label>Labels</label>
                <div>
                    <ul class='tag-list'>
                        <li ng-repeat="tag in npcDetails.selectedNpc.tags">
                            <div class="tag" ng-class="tag"></div>
                        </li>
                    </ul>
                    <tag-add tags="npcDetails.selectedNpc.tags"></tag-add>
                </div>
            </div>
            <div class="col-lg-4">
                <label></label>
                <div>
                    <div class="btn-group" uib-dropdown is-open="npcDetails.isopen">
                        <button type="button" class="btn pregen-btn gray" uib-dropdown-toggle>
                        Pregens<span class="carat"></span>
                        </button>
                        <ul class="dropdown-menu pregen-menu" uib-dropdown-menu role="menu" aria-labelledby="single-button">
                            <li>
                                <div class="row">
                                    <div class="col-lg-8">
                                        <div class="pad-me-6-h">
                                            <span class='list-heading'>Type</span>
                                        </div>
                                    </div>
                                    <div class="col-lg-4">
                                        <span class="list-heading">CR</span>
                                    </div>
                                </div>
                            </li>
                            <li ng-repeat="pregen in npcDetails.pregens | orderBy:'cr'" role="menuitem" class="pregen" ng-click="npcDetails.populate(pregen)">
                                <div class="row">
                                    <div class="col-lg-8">
                                        <div class="pad-me-6-h">
                                            <span>{{ pregen.name }}</span>
                                        </div>
                                    </div>
                                    <div class="col-lg-4">
                                        <span class="npc-cr">{{ pregen.cr }}</span>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <form ng-if="npcDetails.selectedNpc" ng-submit="npcDetails.save()">
            <div class="row">
                <div class="col-lg-10">
                    <div class="row">
                        <div class="col-lg-5">
                            <div class="form-group">
                                <label for="npcName">Name</label>
                                <input class="form-control" ng-model="npcDetails.selectedNpc.name"></input>
                            </div>
                        </div>
                        <div class="col-lg-2">
                            <div class="form-group">
                                <label for="cr">CR</label>
                                <input class="form-control tiny" ng-model="npcDetails.selectedNpc.cr"></input>
                            </div>
                        </div>
                        <div class="col-lg-2">
                            <div class="form-group">
                                <label for="cr">Alignment</label>
                                <input class="form-control tiny" ng-model="npcDetails.selectedNpc.alignment"></input>
                            </div>
                        </div>
                        <div class="col-lg-3">
                            <div class="form-group">
                                <label for="type">Type</label>
                                <input class="form-control" ng-model="npcDetails.selectedNpc.type"></input>
                            </div>
                        </div>
                    </div>

                    <uib-tabset active="npcDetails.activeTab">
                        <uib-tab heading="About" index="0">

                            <div class="row">
                                <div class="col-lg-12">
                                    <div class="form-group">
                                        <label for="npcDesc">Description</label>
                                        <textarea class="form-control" ng-model="npcDetails.selectedNpc.description" rows="5"></textarea>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        <label for="npcAffiliations">Affiliated with</label>
                                        <input class="form-control" ng-model="npcDetails.selectedNpc.affiliations"></input>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        <label for="npcPosition">Position</label>
                                        <input class="form-control" ng-model="npcDetails.selectedNpc.position"></input>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        <label for="npcMotivations">Motivated by</label>
                                        <textarea class="form-control" ng-model="npcDetails.selectedNpc.motivations" rows="4"></textarea>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        <label for="npcFears">Afraid of</label>
                                        <textarea class="form-control" ng-model="npcDetails.selectedNpc.fears" rows="4"></textarea>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        <label for="npcFriends">Friendly with</label>
                                        <textarea class="form-control" ng-model="npcDetails.selectedNpc.friendlies" rows="3"></textarea>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        <label for="npcEnemies">Known enemies with</label>
                                        <textarea class="form-control" ng-model="npcDetails.selectedNpc.enemies" rows="3"></textarea>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        <label for="npcFriends">Loot</label>
                                        <textarea class="form-control" ng-model="npcDetails.selectedNpc.loot" rows="3"></textarea>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <label>Links</label>
                                    <link-list list="npcDetails.selectedNpc.links"></link-list>
                                </div>
                            </div>
                        </uib-tab>

                        <uib-tab heading="Battle" index="1">
                            <stat-block selected-npc="npcDetails.selectedNpc"></stat-block>
                        </uib-tab>
                    </uib-tabset>
                </div>
                <div class="col-lg-2">
                    <div class="form-group top">
                        <label for="wis">Wis</label>
                        <input class="form-control tiny" ng-model="npcDetails.selectedNpc.stats.wisdom"></input>
                    </div>
                    <div class="form-group top">
                        <label for="int">Int</label>
                        <input class="form-control tiny" ng-model="npcDetails.selectedNpc.stats.intelligence"></input>
                    </div>
                    <div class="form-group top">
                        <label for="str">Str</label>
                        <input class="form-control tiny" ng-model="npcDetails.selectedNpc.stats.strength"></input>
                    </div>
                    <div class="form-group top">
                        <label for="con">Con</label>
                        <input class="form-control tiny" ng-model="npcDetails.selectedNpc.stats.constitution"></input>
                    </div>
                    <div class="form-group top">
                        <label for="dex">Dex</label>
                        <input class="form-control tiny" ng-model="npcDetails.selectedNpc.stats.dexterity"></input>
                    </div>
                    <div class="form-group top">
                        <label for="cha">Cha</label>
                        <input class="form-control tiny" ng-model="npcDetails.selectedNpc.stats.charisma"></input>
                    </div>
                </div>
            </div>
        </form>
    </fieldset>
</div>